[gd_scene load_steps=39 format=3 uid="uid://cvkwmh5tf8sn"]

[ext_resource type="PackedScene" uid="uid://cogc5bric8uq7" path="res://Scenes/Environment/world_environment_1.tscn" id="1_xjbu3"]
[ext_resource type="PackedScene" uid="uid://mum2tdvx8ub" path="res://Scenes/Environment/cave_lighting_1.tscn" id="2_ly7wd"]
[ext_resource type="PackedScene" uid="uid://cywoo6cilrv81" path="res://Scenes/Characters/Player/player.tscn" id="3_1aam4"]
[ext_resource type="PackedScene" uid="uid://bw4kga7i5c6uj" path="res://Scenes/Characters/Shadow/shadow.tscn" id="5_nko0b"]
[ext_resource type="Texture2D" uid="uid://cpvc637ps5c6v" path="res://Assets/Assets 1024 Cave/Floor/long_stone2.png" id="6_70gr7"]
[ext_resource type="Texture2D" uid="uid://dq3umj8ybrahv" path="res://Assets/Assets 1024 Cave/Floor/long_stone1.png" id="7_i3xrr"]
[ext_resource type="Texture2D" uid="uid://cufj4faejwour" path="res://Assets/Assets 1024 Cave/Floor/long_platform.png" id="8_dq62g"]
[ext_resource type="Texture2D" uid="uid://basnmslnfew3" path="res://Assets/Assets 1024 Cave/Floor/long_platform2.png" id="9_4il4m"]
[ext_resource type="Texture2D" uid="uid://s76eilmrifu8" path="res://Assets/Assets 1024 Cave/Floor/platform2.png" id="10_j8q5t"]
[ext_resource type="Texture2D" uid="uid://ctw4ieo8xjhr6" path="res://Assets/Assets 1024 Cave/Floor/stone1.png" id="12_2ydm2"]
[ext_resource type="Texture2D" uid="uid://dybmxylvolqfl" path="res://Assets/Assets 1024 Cave/Floor/stone2.png" id="13_dimc5"]
[ext_resource type="Script" path="res://Scenes/World/Tutorial/boss.gd" id="15_f4tex"]
[ext_resource type="Script" path="res://Scenes/UI/ProgressBar.gd" id="16_6qp3w"]
[ext_resource type="Texture2D" uid="uid://bnj2wtvkgaoib" path="res://Assets/Assets 1024 Cave/Floor/platform1.png" id="21_kl534"]
[ext_resource type="Texture2D" uid="uid://dvgtyem5qelgq" path="res://Assets/Assets 1024 Cave/Floor/stone4.png" id="26_824lx"]
[ext_resource type="Texture2D" uid="uid://d4ncxrhwbg0dd" path="res://Assets/Assets 1024 Cave/Square - Black.jpg" id="29_h7ix2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fnar5"]
size = Vector2(334, 51)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ycovr"]
polygon = PackedVector2Array(227, -18, 226, 23, 192, 34, -98, 38, -95, -15, -54, -19, 122, -18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_41cvv"]
size = Vector2(338, 47)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ww07b"]
polygon = PackedVector2Array(2012, -388, 2336, -393, 2334, -345, 2168, -339, 2011, -340)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lcakw"]
size = Vector2(54.9916, 764)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_kp6ed"]
polygon = PackedVector2Array(-31.2812, 399.978, 7.72302, 394.006, 13.7849, 306.01, 18.9389, 87.0133, 15.0142, -19.9894, 15.1674, -237.989, 9.26233, -372.994, -15.7264, -389.011, -50.7383, -372.036, -48.8038, -279.034, -50.9296, -100.036, -45.1202, 170.968, -46.2573, 365.968)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nli1o"]
size = Vector2(54.9916, 355.002)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_u0pd8"]
polygon = PackedVector2Array(-30.1561, 221.979, 11.8495, 214.008, 17.877, 175.013, 16.0956, -135.989, -8.89453, -150.006, -46.9072, -132.033, -49.0956, 135.966, -43.1005, 142.97)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_41536"]
size = Vector2(357, 53)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_2ap2l"]
polygon = PackedVector2Array(-193, -24, -192, 18, -137, 25, 160, 22, 176, 2, 159, -35, -95.021, -27.0618)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lkbvo"]
size = Vector2(3919, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c6cs6"]
size = Vector2(54.9916, 971)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_06arp"]
size = Vector2(54.9916, 1023.99)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cf50f"]
size = Vector2(35, 1651.49)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_edgct"]
size = Vector2(54.9916, 925)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ip012"]
size = Vector2(51.5662, 1660.44)

[sub_resource type="Gradient" id="Gradient_6ylnn"]
offsets = PackedFloat32Array(0, 0.00578035, 1)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 1, 0.0367347, 0.0367347, 0.0367347, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ve4jl"]
gradient = SubResource("Gradient_6ylnn")
width = 512
height = 512
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.217949, 0.495726)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_o6rhj"]
polygon = PackedVector2Array(-287, -1439, -261, -1400, -292, -1378, -1548, -832, -1550, 60, -1625, 59, -1626, -886)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8cltp"]
polygon = PackedVector2Array(1092, -1390, 1111, -1365, 2344, -796, 2342, 62, 2351, 123, 2423, 114, 2445, -838, 1137, -1429)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_a62bc"]
polygon = PackedVector2Array(-87, -1468, -74, -1518, 893, -1499, 902, -1454)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a04p6"]
size = Vector2(367, 207)

[node name="level_4" type="Node2D"]

[node name="WorldEnvironment" parent="." instance=ExtResource("1_xjbu3")]

[node name="Background" type="ColorRect" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -3658.0
offset_top = -2441.0
offset_right = 3578.0
offset_bottom = 1926.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.168627, 0.113725, 0.0117647, 1)

[node name="DirectionalLight2D" parent="." instance=ExtResource("2_ly7wd")]

[node name="shadow" parent="." node_paths=PackedStringArray("start_boundary", "end_boundary") instance=ExtResource("5_nko0b")]
position = Vector2(171, -138)
health = 10
start_boundary = NodePath("Start")
end_boundary = NodePath("End")
wander_delay = 1.0
attack_delay = 1.0

[node name="Start" type="Marker2D" parent="shadow"]
position = Vector2(-1644, 30)

[node name="End" type="Marker2D" parent="shadow"]
position = Vector2(1674, 31)

[node name="Player" parent="." instance=ExtResource("3_1aam4")]
position = Vector2(207, -676)

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(0.5, 0.5)
process_callback = 0
position_smoothing_enabled = true
position_smoothing_speed = 3.0

[node name="World" type="Node2D" parent="."]
position = Vector2(-172, -59)

[node name="Background" type="Node2D" parent="World"]
position = Vector2(148, 56)

[node name="Square-Black" type="Sprite2D" parent="World/Background"]
position = Vector2(-12.5001, 1012)
scale = Vector2(14.1152, 3.67578)
texture = ExtResource("29_h7ix2")

[node name="Square-Black2" type="Sprite2D" parent="World/Background"]
position = Vector2(-2675, -1175)
scale = Vector2(3.75, 4.88281)
texture = ExtResource("29_h7ix2")

[node name="Square-Black3" type="Sprite2D" parent="World/Background"]
position = Vector2(2920.5, -1179.5)
scale = Vector2(2.65039, 4.9082)
texture = ExtResource("29_h7ix2")

[node name="Polygon2D" type="Polygon2D" parent="World/Background"]
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1747, -910, -428, -1483, -1221, -2437, -1764, -2432)

[node name="Polygon2D2" type="Polygon2D" parent="World/Background"]
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-221, -1564, -201, -2437, 595, -2440, 747, -1545)

[node name="Polygon2D3" type="Polygon2D" parent="World/Background"]
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(957, -1464, 1092, -2434, 2298, -2429, 2270, -857)

[node name="Map" type="Node2D" parent="World"]
position = Vector2(148, 56)

[node name="LongPlatform2" type="Sprite2D" parent="World/Map"]
position = Vector2(-611, 39)
texture = ExtResource("9_4il4m")

[node name="LongPlatform" type="Sprite2D" parent="World/Map"]
position = Vector2(177, 39)
texture = ExtResource("8_dq62g")

[node name="LongPlatform3" type="Sprite2D" parent="World/Map"]
position = Vector2(1028, 39)
texture = ExtResource("9_4il4m")

[node name="LongPlatform4" type="Sprite2D" parent="World/Map"]
position = Vector2(-1347, 32)
texture = ExtResource("9_4il4m")

[node name="LongPlatform5" type="Sprite2D" parent="World/Map"]
position = Vector2(1739, 36)
texture = ExtResource("8_dq62g")

[node name="Platform1" type="Sprite2D" parent="World/Map"]
position = Vector2(-1541, -380)
texture = ExtResource("21_kl534")

[node name="StaticBody2D9" type="StaticBody2D" parent="World/Map/Platform1"]
position = Vector2(-51, -7)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Map/Platform1/StaticBody2D9"]
position = Vector2(58, 8.5)
shape = SubResource("RectangleShape2D_fnar5")

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Map/Platform1/StaticBody2D9"]
occluder = SubResource("OccluderPolygon2D_ycovr")

[node name="Platform2" type="Sprite2D" parent="World/Map"]
position = Vector2(2037, -428)
texture = ExtResource("21_kl534")

[node name="StaticBody2D11" type="StaticBody2D" parent="World/Map/Platform2"]
position = Vector2(-2185, 372)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Map/Platform2/StaticBody2D11"]
position = Vector2(2178, -369.5)
shape = SubResource("RectangleShape2D_41cvv")

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Map/Platform2/StaticBody2D11"]
occluder = SubResource("OccluderPolygon2D_ww07b")

[node name="LongPlatform6" type="Sprite2D" parent="World/Map"]
position = Vector2(-1719, -450)
rotation = 1.5708
texture = ExtResource("8_dq62g")

[node name="LongPlatform11" type="Sprite2D" parent="World/Map"]
position = Vector2(2215, -425)
rotation = -1.5708
texture = ExtResource("8_dq62g")

[node name="LongPlatform7" type="Sprite2D" parent="World/Map"]
position = Vector2(-1376, -1060)
rotation = 2.73439
texture = ExtResource("9_4il4m")

[node name="LongPlatform8" type="Sprite2D" parent="World/Map"]
position = Vector2(-779, -1316)
rotation = 2.73439
texture = ExtResource("9_4il4m")

[node name="LongPlatform9" type="Sprite2D" parent="World/Map"]
position = Vector2(1296, -1295)
rotation = -2.72271
texture = ExtResource("9_4il4m")

[node name="LongPlatform10" type="Sprite2D" parent="World/Map"]
position = Vector2(1888.43, -1027.51)
rotation = -2.72271
texture = ExtResource("9_4il4m")

[node name="LongPlatform12" type="Sprite2D" parent="World/Map"]
position = Vector2(262, -1533)
rotation = -3.14159
texture = ExtResource("8_dq62g")

[node name="LongPlatform13" type="Sprite2D" parent="World/Map"]
position = Vector2(226, -492)
texture = ExtResource("9_4il4m")

[node name="StaticBody2D7" type="StaticBody2D" parent="World/Map/LongPlatform13"]
position = Vector2(6, 19.9999)
rotation = 1.57009

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Map/LongPlatform13/StaticBody2D7"]
position = Vector2(-13.5042, 2.98236)
shape = SubResource("RectangleShape2D_lcakw")

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Map/LongPlatform13/StaticBody2D7"]
occluder = SubResource("OccluderPolygon2D_kp6ed")

[node name="Platform3" type="Sprite2D" parent="World/Map"]
position = Vector2(-999, -672)
texture = ExtResource("10_j8q5t")

[node name="StaticBody2D8" type="StaticBody2D" parent="World/Map/Platform3"]
position = Vector2(38, 11)
rotation = 1.57009

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Map/Platform3/StaticBody2D8"]
position = Vector2(-13.5042, 37.4906)
shape = SubResource("RectangleShape2D_nli1o")

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Map/Platform3/StaticBody2D8"]
occluder = SubResource("OccluderPolygon2D_u0pd8")

[node name="Platform4" type="Sprite2D" parent="World/Map"]
position = Vector2(1578, -733)
texture = ExtResource("10_j8q5t")

[node name="StaticBody2D10" type="StaticBody2D" parent="World/Map/Platform4"]
position = Vector2(13, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Map/Platform4/StaticBody2D10"]
position = Vector2(-10.5, 0.5)
shape = SubResource("RectangleShape2D_41536")

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Map/Platform4/StaticBody2D10"]
occluder = SubResource("OccluderPolygon2D_2ap2l")

[node name="LongStone1" type="Sprite2D" parent="World/Map"]
position = Vector2(-1088, 397)
texture = ExtResource("7_i3xrr")

[node name="LongStone2" type="Sprite2D" parent="World/Map"]
position = Vector2(436, 222)
texture = ExtResource("6_70gr7")

[node name="Stone2" type="Sprite2D" parent="World/Map"]
position = Vector2(1871, 247)
texture = ExtResource("13_dimc5")

[node name="Stone4" type="Sprite2D" parent="World/Map"]
position = Vector2(-2218, -674)
texture = ExtResource("26_824lx")

[node name="Stone3" type="Sprite2D" parent="World/Map"]
position = Vector2(-2153, 96)
texture = ExtResource("13_dimc5")

[node name="Stone1" type="Sprite2D" parent="World/Map"]
position = Vector2(2672, -768)
texture = ExtResource("12_2ydm2")

[node name="Stone5" type="Sprite2D" parent="World/Map"]
position = Vector2(2823, -17)
texture = ExtResource("26_824lx")

[node name="Collision" type="Node2D" parent="World"]

[node name="StaticBody2D" type="StaticBody2D" parent="World/Collision"]
position = Vector2(177, 94)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D"]
position = Vector2(219.5, 10.5)
shape = SubResource("RectangleShape2D_lkbvo")

[node name="StaticBody2D2" type="StaticBody2D" parent="World/Collision"]
position = Vector2(-1557, -358)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D2"]
position = Vector2(-23.5, -12.5)
shape = SubResource("RectangleShape2D_c6cs6")

[node name="StaticBody2D6" type="StaticBody2D" parent="World/Collision"]
position = Vector2(395, -1481)
rotation = 1.57009

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D6"]
position = Vector2(-23.5, -15.0123)
shape = SubResource("RectangleShape2D_06arp")

[node name="StaticBody2D4" type="StaticBody2D" parent="World/Collision"]
position = Vector2(-1136, -1032)
rotation = 1.16615

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D4"]
position = Vector2(-23.5, -342.747)
shape = SubResource("RectangleShape2D_cf50f")

[node name="StaticBody2D3" type="StaticBody2D" parent="World/Collision"]
position = Vector2(2397, -357)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D3"]
position = Vector2(-23.5, 21.5)
shape = SubResource("RectangleShape2D_edgct")

[node name="StaticBody2D5" type="StaticBody2D" parent="World/Collision"]
position = Vector2(1828, -1109)
rotation = -1.11444

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Collision/StaticBody2D5"]
position = Vector2(-46.5725, -173.457)
rotation = -0.0350664
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_ip012")

[node name="Lighting" type="Node2D" parent="World"]

[node name="PointLight2D2" type="PointLight2D" parent="World/Lighting"]
position = Vector2(-483, -2129)
scale = Vector2(1.00659, 1)
energy = 3.22
shadow_enabled = true
shadow_filter = 2
shadow_filter_smooth = 4.0
texture = SubResource("GradientTexture2D_ve4jl")
texture_scale = 13.49

[node name="PointLight2D3" type="PointLight2D" parent="World/Lighting"]
position = Vector2(1012, -1914)
scale = Vector2(1.00659, 1)
energy = 4.02
shadow_enabled = true
shadow_filter = 2
shadow_filter_smooth = 4.0
texture = SubResource("GradientTexture2D_ve4jl")
texture_scale = 11.76

[node name="LightOccluder2D" type="LightOccluder2D" parent="World/Lighting"]
occluder = SubResource("OccluderPolygon2D_o6rhj")

[node name="LightOccluder2D3" type="LightOccluder2D" parent="World/Lighting"]
occluder = SubResource("OccluderPolygon2D_8cltp")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="World/Lighting"]
occluder = SubResource("OccluderPolygon2D_a62bc")

[node name="Tutorial" type="Node2D" parent="."]

[node name="Area2D" type="Area2D" parent="Tutorial" node_paths=PackedStringArray("label")]
position = Vector2(207, -595)
script = ExtResource("15_f4tex")
label = NodePath("../../UI/VBox/Tutorial")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tutorial/Area2D"]
position = Vector2(9.5, -33.5)
shape = SubResource("RectangleShape2D_a04p6")

[node name="UI" type="CanvasLayer" parent="."]

[node name="VBox" type="VBoxContainer" parent="UI"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -335.0
offset_top = 145.0
offset_right = 336.0
offset_bottom = 325.0
grow_horizontal = 2

[node name="Tutorial" type="Label" parent="UI/VBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 36
text = "You've caught up to The Shadow!

Don't let him escape. "
horizontal_alignment = 1

[node name="ProgressBar" type="ProgressBar" parent="UI" node_paths=PackedStringArray("shadow")]
custom_minimum_size = Vector2(300, 50)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -150.0
offset_top = 70.0
offset_right = 150.0
offset_bottom = 120.0
grow_horizontal = 2
max_value = 10.0
step = 1.0
value = 10.0
script = ExtResource("16_6qp3w")
shadow = NodePath("../../shadow")

[node name="Label" type="Label" parent="UI"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -81.0
offset_top = 34.0
offset_right = 82.0
offset_bottom = 73.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 28
text = "The Shadow"
horizontal_alignment = 1
vertical_alignment = 1

[connection signal="body_exited" from="Tutorial/Area2D" to="Tutorial/Area2D" method="_on_body_exited"]
